ggplot(aes(album_release_year, valence)) +
geom_point() +
geom_line()
foo_fighters %>%
group_by(album_release_year) %>%
summarise(valence = mean(valence)) %>%
ggplot(aes(album_release_year, valence)) +
geom_point() +
geom_line()
slayer <-  get_artist_audio_features("1IQ2e1buppatiN1bxUVkrk", include_groups = "album")
full <- bind_rows(foo_fighters, shakira, slayer)
full %>%
group_by(artist_name) %>%
summarise_at(.vars = var(energy, valence, danceability), .funs = mean )
full %>%
group_by(artist_name) %>%
summarise_at(.vars = var(energy, valence, danceability), .funs = mean )
full %>%
group_by(artist_name) %>%
summarise_at(.vars = var("energy", "valence", "danceability"), .funs = mean )
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean )
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean )
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value")
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge")
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge")
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") %>%
theme_bw()
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") %>%
theme_bw()
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") +
theme_bw()
full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") +
theme_bw() +
theme(axis.title = element_blank())
library(plotly)
plot <- full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") +
theme_bw() +
theme(axis.title = element_blank())
ggplotly(plot)
foo_fighters <-  get_artist_audio_features("7jy3rLJdDQY21OgRLCZ9sD", include_groups = "album")
shakira <-  get_artist_audio_features("0EmeFodog0BfCgMzAIvKQp", include_groups = "album")
slayer <-  get_artist_audio_features("1IQ2e1buppatiN1bxUVkrk", include_groups = "album")
full <- bind_rows(foo_fighters, shakira, slayer)
library(httr)
get_genre_artists
bandas_chilenas <-  get_genre_artists(genre = "rock", market = "cl", limit = 50)
View(bandas_chilenas)
bandas_chilenas <-  get_genre_artists(genre = "rock", market = "cl", limit = 50, offset = 0)
bandas_chilenas2 <-  get_genre_artists(genre = "rock", market = "cl", limit = 50, offset = 1)
View(bandas_chilenas)
View(bandas_chilenas2)
bandas_chilenas <-  get_genre_artists(genre = "rock", market = "CL", limit = 50, offset = 0)
bandas_chilenas2 <-  get_genre_artists(genre = "rock", market = "CL", limit = 50, offset = 1)
View(bandas_chilenas)
View(bandas_chilenas2)
bandas_chilenas3 <-  get_genre_artists(genre = "rock", market = "CL", limit = 50, offset = 2)
View(bandas_chilenas3)
bandas_chilenas <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 0)
bandas_chilenas2 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 1)
bandas_chilenas3 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 2)
bandas_chilenas3 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 1000)
token
library(spotifyr)
#Crear token a partir de las credenciales
access_token <- get_spotify_access_token(client_id = Sys.getenv("SPOTIFY_CLIENT_ID"),
client_secret = Sys.getenv("SPOTIFY_CLIENT_SECRET"))
token
access_token
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
data$status_code
data %>% content()
x <- data %>% content()
View(x)
x$artists$items
x$artists$items[[1]]$name
x$artists$items[[2]]$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2&offset=0',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
x <- data %>% content()
x$artists$items[[2]]$name
get_genre_artists
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists
artists$items
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=5&offset=0',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=5&offset=1',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
data$handle
data$request
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=3&offset=0',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=3&offset=3',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=6&offset=0',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=10',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=19',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=100',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=200',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=500',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=800',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=1000',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=900',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=990',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=991',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2&offset=991',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=8&offset=991',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=9&offset=991',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=10&offset=991',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
#access_token
# curl --request GET \
#   --url 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=2' \
#   --header 'Authorization: Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA'
data <- GET(url = 'https://api.spotify.com/v1/search?q=genre%3Arock&type=artist&market=CL&limit=9&offset=991',
add_headers(Authorization="Bearer BQAGYF-Hpx948A6IqmreUmmFb5RCPh-iTVwLXCvWe5aFhr6h-dTpph9nB89Elo9O9XeXXwTmZ8RwoGYmkkgGCEoOx7qj9dgeoQeVSsgwueaQvpM3oHA"))
#library(jsonlite)
res <- fromJSON(content(data, as = "text", encoding = "UTF-8"), flatten = TRUE)
artists <- res$artists
artists$items$name
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
fig.retina=3,
out.width = "70%",
cache = FALSE,
echo = T,
message = FALSE,
warning = FALSE,
hiline = TRUE
)
options(scipen = 999)
bandas_chilenas1 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 0)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
fig.retina=3,
out.width = "70%",
cache = FALSE,
echo = T,
message = FALSE,
warning = FALSE,
hiline = TRUE
)
options(scipen = 999)
library(xaringanthemer)
library(tidyverse)
library(DT)
library(kableExtra)
library(plotly)
#style_duo_accent(
#  primary_color = "#1381B0",
#  secondary_color = "#FF961C",
#  inverse_header_color = "#FFFFFF"
#)
xaringanExtra::use_panelset()
library(spotifyr)
#Crear token a partir de las credenciales
access_token <- get_spotify_access_token(client_id = Sys.getenv("SPOTIFY_CLIENT_ID"),
client_secret = Sys.getenv("SPOTIFY_CLIENT_SECRET"))
bruno_albums <-  get_artist_albums("0du5cEVh5yTK9QJze8zA0C")
bruno_albums %>%
select(album_type, id, name, total_tracks) %>%
datatable(options = list(pageLength = 5, dom = "p") )
jukebox <-  get_album_tracks("58ufpQsJ1DS5kq4hhzQDiI") # id del álbum
jukebox %>%
select(duration_ms, id, name ) %>%
datatable(options = list(pageLength = 5, dom = "p") )
treasure <- get_track_audio_features("55h7vJchibLdUkxdlX3fK7")
treasure %>%
select(-c("id", "uri", "analysis_url", "time_signature", "track_href", "type") ) %>%
datatable(options = list(pageLength = 5, dom = "p") )
foo_fighters <-  get_artist_audio_features("7jy3rLJdDQY21OgRLCZ9sD", include_groups = "album")
shakira <-  get_artist_audio_features("0EmeFodog0BfCgMzAIvKQp", include_groups = "album")
slayer <-  get_artist_audio_features("1IQ2e1buppatiN1bxUVkrk", include_groups = "album")
full <- bind_rows(foo_fighters, shakira, slayer)
plot <- full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") +
theme_bw() +
theme(axis.title = element_blank())
ggplotly(plot)
bandas_chilenas1 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 0)
bandas_chilenas1$name
bandas_chilenas2 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 4)
bandas_chilenas2$name
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
fig.retina=3,
out.width = "70%",
cache = FALSE,
echo = T,
message = FALSE,
warning = FALSE,
hiline = TRUE
)
options(scipen = 999)
bandas_chilenas1 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 0)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
fig.retina=3,
out.width = "70%",
cache = FALSE,
echo = T,
message = FALSE,
warning = FALSE,
hiline = TRUE
)
options(scipen = 999)
library(xaringanthemer)
library(tidyverse)
library(DT)
library(kableExtra)
library(plotly)
#style_duo_accent(
#  primary_color = "#1381B0",
#  secondary_color = "#FF961C",
#  inverse_header_color = "#FFFFFF"
#)
xaringanExtra::use_panelset()
library(spotifyr)
#Crear token a partir de las credenciales
access_token <- get_spotify_access_token(client_id = Sys.getenv("SPOTIFY_CLIENT_ID"),
client_secret = Sys.getenv("SPOTIFY_CLIENT_SECRET"))
bruno_albums <-  get_artist_albums("0du5cEVh5yTK9QJze8zA0C")
bruno_albums %>%
select(album_type, id, name, total_tracks) %>%
datatable(options = list(pageLength = 5, dom = "p") )
jukebox <-  get_album_tracks("58ufpQsJ1DS5kq4hhzQDiI") # id del álbum
jukebox %>%
select(duration_ms, id, name ) %>%
datatable(options = list(pageLength = 5, dom = "p") )
treasure <- get_track_audio_features("55h7vJchibLdUkxdlX3fK7")
treasure %>%
select(-c("id", "uri", "analysis_url", "time_signature", "track_href", "type") ) %>%
datatable(options = list(pageLength = 5, dom = "p") )
foo_fighters <-  get_artist_audio_features("7jy3rLJdDQY21OgRLCZ9sD", include_groups = "album")
shakira <-  get_artist_audio_features("0EmeFodog0BfCgMzAIvKQp", include_groups = "album")
slayer <-  get_artist_audio_features("1IQ2e1buppatiN1bxUVkrk", include_groups = "album")
full <- bind_rows(foo_fighters, shakira, slayer)
plot <- full %>%
group_by(artist_name) %>%
summarise_at(.vars = c("energy", "valence", "danceability"), .funs = mean ) %>%
pivot_longer(cols = c("energy", "valence", "danceability"), names_to = "indicator", values_to = "value") %>%
ggplot(aes(x = artist_name, y = value, fill = indicator )) +
geom_bar(stat = "identity", position = "dodge") +
theme_bw() +
theme(axis.title = element_blank())
ggplotly(plot)
bandas_chilenas1 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 0)
bandas_chilenas2 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 4)
bandas_chilenas1$name
bandas_chilenas2$name
bandas_chilenas1$name
bandas_chilenas2$name
bandas_chilenas1 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 0)
bandas_chilenas2 <-  get_genre_artists(genre = "rock", market = "CL", limit = 5, offset = 5)
bandas_chilenas1$name
bandas_chilenas2$name
bandas_chilenas3 <-  get_genre_artists(genre = "rock", market = "CL", limit = 1, offset = 1000) # 5 al 9
bandas_chilenas3 <-  get_genre_artists(genre = "rock", market = "CL", limit = 1, offset = 999) # 5 al 9
bandas_chilenas3
final <-  get_genre_artists(genre = "rock", market = "CL", limit = 3, offset = 998)
final <-  get_genre_artists(genre = "rock", market = "CL", limit = 2, offset = 999)
final <-  get_genre_artists(genre = "rock", market = "CL", limit = 2, offset = 999)
bandas_chilenas1
View(bandas_chilenas1)
final <-  get_genre_artists( market = "CL", limit = 2, offset = 999) # 999 + 2 = 1001
final <-  get_genre_artists( market = "CL", limit = 2, offset = 990) # 999 + 2 = 1001
final <-  get_genre_artists( market = "CL", limit = 2, offset = 1) # 999 + 2 = 1001
final <-  get_genre_artists(genre = "rock", market = "CL", limit = 2, offset = 1) # 999 + 2 = 1001
final
seq(0, 200, 50)
bandas_rock <- list()
n <- 1
for (i in seq(0, 200, 50)) {
bandas_rock[[n]] <-  get_genre_artists(genre = "rock", market = "CL", limit = 50, offset = i)
n <- n + 1
}
bandas_rock[[1]]
bandas_rock[[1]]$name
bandas_rock[[2]]$name
secuencia <-  seq(0, 950, 50)
bandas_rock <- list()
n <- 1
for (i in secuencia) {
bandas_rock[[n]] <-  get_genre_artists(genre = "rock", market = "CL", limit = 50, offset = i)
n <- n + 1
}
bandas_rock[[2]]$name
